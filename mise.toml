[tools]
go = "latest"

[tasks.all]
depends = ["compile", "test", "check"]

[tasks.compile]
description = "Build the app"
run = "go build -o bin/gradleconf cmd/gradleconf/*.go"

[tasks.test]
run = "go test -v ./..."

[tasks.runit]
description = "Run the app"
run = "go run cmd/gradleconf/main.go"

[tasks.check]
depends = ["staticcheck", "vulncheck"]

[tasks.staticcheck]
run = "go run honnef.co/go/tools/cmd/staticcheck ./..."

[tasks.vulncheck]
run = "go run golang.org/x/vuln/cmd/govulncheck ./..."
